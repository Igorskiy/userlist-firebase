(this["webpackJsonpuserslist-firebase"]=this["webpackJsonpuserslist-firebase"]||[]).push([[0],{36:function(e,t,n){e.exports=n(57)},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(22),l=n.n(u),c=n(9),s=n(10),i=n(15),o=n(7),m={isPopupShown:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_POPUP":return Object(o.a)({},e,{isPopupShown:!e.isPopupShown});default:return e}},f=function(e){return{type:"SET_USERS",users:e}},E={users:[],filter:"all"},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return Object(o.a)({},e,{users:t.users});case"FILTER_USERS":return Object(o.a)({},e,{filter:t.filter});default:return e}},v=function(e){return{type:"SET_IS_ACTIVE",actionStatus:e}},N=function(e){return{type:"SET_PHONE_NUMBER",phoneNumber:e}},d=function(e){return{type:"SET_SURNAME",surname:e}},h=function(e){return{type:"SET_NAME",name:e}},_={name:"",surname:"",phoneNumber:"",actionStatus:"active"},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NAME":return Object(o.a)({},e,{name:t.name.trim()});case"SET_SURNAME":return Object(o.a)({},e,{surname:t.surname.trim()});case"SET_PHONE_NUMBER":return Object(o.a)({},e,{phoneNumber:t.phoneNumber.trim()});case"SET_IS_ACTIVE":return Object(o.a)({},e,{actionStatus:t.actionStatus});case"INPUTS_RESET":return{name:"",surname:"",phoneNumber:"",actionStatus:"active"};default:return e}},y=function(e){return function(e){return e.name}(e.input)},g=function(e){return function(e){return e.surname}(e.input)},A=function(e){return function(e){return e.phoneNumber}(e.input)},T=function(e){return function(e){return e.isPopupShown}(e.popup)},O=function(e){return function(e){return e.actionStatus}(e.input)},P=function(e){return function(e){return e.users}(e.users)},U=function(e){return function(e){return e.filter}(e.users)},R=/(\d)+/,I=/(\D)+/,j=function(e){var t=[],n=e.name,a=e.surname,r=e.phoneNumber;return r&&-1===r.search(I)||t.push("\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),n&&-1===n.search(R)||t.push("\u0438\u043c\u044f"),a&&-1===a.search(R)||t.push("\u0444\u0430\u043c\u0438\u043b\u0438\u044f"),t.join(", ")},C=function(e){var t=e.name,n=e.surname,a=e.phoneNumber;return a&&-1===a.search(I)&&t&&-1===t.search(R)&&n&&-1===n.search(R)},w=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,r)}),t)}},k=n(26),D=n.n(k),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":case"UPDATE_USER":return t.user;default:return e}},L=function(e,t){return function(n){C(e)?(n(function(e,t){return{type:"ADD_USER",user:D.a.database().ref("users/"+t).set(Object(o.a)({},e,{id:t}))}}(e,t)),n({type:"INPUTS_RESET"}),n({type:"TOGGLE_POPUP"})):alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0445:\n      ".concat(j(e)))}},M=function(e,t){return function(n){C(e)?n(function(e,t){return{type:"UPDATE_USER",user:D.a.database().ref("users/"+t).update(Object(o.a)({},e))}}(e,t)):alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0445:\n      ".concat(j(e),"\n    ")),n({type:"INPUTS_RESET"})}},x=Object(c.b)((function(e){return{isActive:O(e),name:y(e),surname:g(e),phoneNumber:A(e)}}),(function(e){return{setPhoneNumber:function(t){return e(N(t))},setName:function(t){return e(h(t))},setSurname:function(t){return e(d(t))},setIsActive:function(t){return e(v(t))},addNewUser:function(t,n){return e(L(t,n))},cancel:function(){return e((function(e){e({type:"INPUTS_RESET"}),e({type:"TOGGLE_POPUP"})}))}}}))((function(e){var t=e.setSurname,n=e.setName,a=e.setPhoneNumber,u=e.setIsActive,l=e.isActive,c=e.name,s=e.surname,i=e.phoneNumber,o=e.addNewUser,m=e.cancel,p=w(n,300),f=w(t,300),E=w(a,300);return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"registration-form form"},r.a.createElement("h1",{className:"registration-form__tilte title"},r.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")),r.a.createElement("div",{className:"registration-form__inputs inputs"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u0418\u043c\u044f:"),r.a.createElement("input",{type:"text",className:"inputs__input",placeholder:"\u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onChange:function(e){return p(e.target.value)}})),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),r.a.createElement("input",{type:"text",className:"inputs__input",placeholder:"\u0444\u0430\u043c\u0438\u043b\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onChange:function(e){return f(e.target.value)}})),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u041c\u043e\u0431. \u0442\u0435\u043b\u0435\u0444\u043e\u043d:"),r.a.createElement("input",{type:"telephone",className:"inputs__input",placeholder:"\u043c\u043e\u0431. \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onChange:function(e){return E(e.target.value)}})),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Is active:"),r.a.createElement("select",{className:"inputs__input",value:l,onChange:function(e){return u(e.target.value)}},r.a.createElement("option",{value:"active"},"Active"),r.a.createElement("option",{value:"inactive"},"Inactive"))),r.a.createElement("button",{className:" submit-button button",type:"button",onClick:function(){return o({name:c,surname:s,phoneNumber:i,isActive:l},Date.now())}},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"),r.a.createElement("button",{className:" close-button button",type:"button",onClick:function(){return m()}},"\u041e\u0442\u043c\u0435\u043d\u0430"))))})),B=Object(c.b)((function(e){return{isActive:O(e),name:y(e),surname:g(e),phoneNumber:A(e)}}))((function(e){var t=e.user;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"display-form form"},r.a.createElement("h1",{className:"display-form__tilte title"},r.a.createElement("div",null,"\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("div",{className:"display-form__username username"},t.name)),r.a.createElement("div",{className:"display-form__inputs inputs"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u0418\u043c\u044f:"),r.a.createElement("span",null,t.name)),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),r.a.createElement("span",null,t.surname)),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u041c\u043e\u0431. \u0442\u0435\u043b\u0435\u0444\u043e\u043d:"),t.phoneNumber),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u0421\u0442\u0430\u0442\u0443\u0441:"),t.isActive),r.a.createElement(s.c,{className:"close-button button",to:"/users"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))})),V=Object(c.b)((function(e){return{isActive:O(e),name:y(e),surname:g(e),phoneNumber:A(e)}}),(function(e){return{setPhoneNumber:function(t){return e(N(t))},setName:function(t){return e(h(t))},setSurname:function(t){return e(d(t))},setIsActive:function(t){return e(v(t))},editUser:function(t,n){return e(M(t,n))},inputsReset:function(){return e({type:"INPUTS_RESET"})}}}))((function(e){var t=e.setSurname,n=e.setName,u=e.setPhoneNumber,l=e.setIsActive,c=e.isActive,i=e.name,o=e.surname,m=e.phoneNumber,p=e.user,f=e.editUser,E=e.inputsReset;return Object(a.useEffect)((function(){l(p.isActive)}),[l,p.isActive]),r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"edit-form form"},r.a.createElement("h1",{className:"edit-form__tilte title"},r.a.createElement("div",null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "),r.a.createElement("div",{className:"edit-form__username username"},p.name)),r.a.createElement("div",{className:"edit-form__inputs inputs"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u0418\u043c\u044f:"),r.a.createElement("input",{type:"text",defaultValue:p.name,className:"inputs__input",placeholder:"\u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onChange:function(e){return n(e.target.value)}})),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),r.a.createElement("input",{type:"text",defaultValue:p.surname,className:"inputs__input",placeholder:"\u0444\u0430\u043c\u0438\u043b\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onChange:function(e){return t(e.target.value)}})),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"\u041c\u043e\u0431. \u0442\u0435\u043b\u0435\u0444\u043e\u043d:"),r.a.createElement("input",{type:"telephone",defaultValue:p.phoneNumber,className:"inputs__input",placeholder:"\u043c\u043e\u0431. \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onChange:function(e){return u(e.target.value)}})),r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Is active:"),r.a.createElement("select",{className:"inputs__input",defaultValue:p.isActive,onChange:function(e){return l(e.target.value)}},r.a.createElement("option",{value:"active"},"Active"),r.a.createElement("option",{value:"inactive"},"Inactive"))),r.a.createElement(s.c,{className:"submit-button button",to:"/users",onClick:function(){return f({name:i||p.name,surname:o||p.surname,phoneNumber:m||p.phoneNumber,isActive:c},p.id)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(s.c,{className:"close-button button",to:"/users",onClick:function(){return E()}},"\u041e\u0442\u043c\u0435\u043d\u0430"))))})),F=Object(c.b)((function(e){return{name:y(e)}}))((function(e){var t=e.user,n=e.headers;return r.a.createElement(r.a.Fragment,null,n.map((function(e){var n=e.title,a=e.value;return r.a.createElement(r.a.Fragment,{key:n},"\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430"!==n?r.a.createElement("td",null,t[a]):r.a.createElement("td",null,r.a.createElement(s.c,{className:"link",to:"/users/".concat(t.id),key:t[a]},r.a.createElement("span",{className:"tool-icon",role:"img","aria-label":"eye"},"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f")),t.name&&r.a.createElement(i.a,{path:"/users/".concat(t.id),render:function(){return r.a.createElement(B,{user:t})}}),r.a.createElement(s.c,{className:"link",to:"/users/".concat(t.id,"/edit"),key:t[a]},r.a.createElement("span",{className:"tool-icon",role:"img","aria-label":"edit-file"},"\ud83d\udcdd")),r.a.createElement(i.a,{path:"/users/".concat(t.id,"/edit"),render:function(){return r.a.createElement(V,{header:n,user:t})}})))})))})),H=Object(c.b)((function(e){return{isPopupShown:T(e),name:y(e),surname:g(e),phoneNumber:A(e),isActive:O(e),users:P(e),filter:U(e)}}),(function(e){return{togglePopup:function(){return e({type:"TOGGLE_POPUP"})},filterUsers:function(t){return e({type:"FILTER_USERS",filter:t})},showUsers:function(t){return e((n=t,function(e){switch(n){case"all":return Z.on("value",(function(t){return e(f(Object.values(t.val())))}));case"active":return Z.orderByChild("isActive").equalTo("active").on("value",(function(t){return t.val()?e(f(Object.values(t.val()))):e(f([]))}));case"inactive":return Z.orderByChild("isActive").equalTo("inactive").on("value",(function(t){return t.val()?e(f(Object.values(t.val()))):e(f([]))}));default:return}}));var n}}}))((function(e){var t=e.isPopupShown,n=e.togglePopup,u=e.users,l=e.filterUsers,c=e.filter,s=e.showUsers;Object(a.useEffect)((function(){s(c)}),[s,c,t]);var i=[{title:"\u0438\u043c\u044f",value:"name"},{title:"\u0444\u0430\u043c\u0438\u043b\u0438\u044f",value:"surname"},{title:"\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:"phoneNumber"},{title:"\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:"isActive"},{title:"\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",value:null}];return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(x,null),r.a.createElement("button",{type:"button",className:"button register-button",onClick:n},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("div",{className:"filter-buttons"},r.a.createElement("button",{type:"button",className:"filter-buttons__button button",onClick:function(){return l("all")}},"All"),r.a.createElement("button",{type:"button",className:"filter-buttons__button button",onClick:function(){return l("active")}},"Active"),r.a.createElement("button",{type:"button",className:"filter-buttons__button button",onClick:function(){return l("inactive")}},"Inactive")),r.a.createElement("table",{className:"users-list"},r.a.createElement("thead",{className:"users-list__header"},r.a.createElement("tr",null,i.map((function(e){var t=e.title,n=e.value;return r.a.createElement("td",{key:n,role:"presentation",className:"users-list__table-column"},t)})))),r.a.createElement("tbody",null,u.map((function(e){return r.a.createElement("tr",{className:"users-list__user",key:e.id},r.a.createElement(F,{user:e,headers:i}))})))))})),q=(n(56),n(17)),J=n(34),z=n(35),K=Object(q.combineReducers)({input:S,users:b,user:G,popup:p}),W=Object(q.createStore)(K,Object(J.composeWithDevTools)(Object(q.applyMiddleware)(z.a))),Q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{store:W},r.a.createElement(s.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/users",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(i.a,{path:"/"},r.a.createElement(s.b,{className:"init-button button",to:"/users"},"SHOW USERS LIST"))))))},X=n(29),Y=n.n(X);n.d(t,"userRef",(function(){return Z}));Y.a.initializeApp({apiKey:"AIzaSyC4OJ8G4-CN4RCwKHPTe32UR2i8kxvpq5g",authDomain:"userlistapp-test.firebaseapp.com",databaseURL:"https://userlistapp-test.firebaseio.com",projectId:"userlistapp-test",storageBucket:"userlistapp-test.appspot.com",messagingSenderId:"102863790993",appId:"1:102863790993:web:41b152851507623482f030"});var Z=Y.a.database().ref().child("users");l.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.79eac580.chunk.js.map